```python
1. 为 AI 助手功能全新创建的文件：

web/aiClient.h 和 web/aiClient.cpp: 这两个文件定义并实现了 AIClient 类，它负责与 DeepSeek AI 的 API 进行通信，发送请求并接收响应。
ide/aiChat.h 和 ide/aiChat.cpp: 这两个文件定义并实现了 AIChatManager 类，用于管理与 AI 的对话历史，维护上下文，并根据不同的需求（如分析题目、生成代码、调试）构建合适的请求。
widgets/aiAssistant.h 和 widgets/aiAssistant.cpp: 这两个文件定义并实现了 AIAssistantWidget 类，也就是您看到的 AI 助手界面的主要部分。它包含了显示对话、用户输入框、功能按钮等 UI 元素，并负责将用户操作连接到 AIChatManager 和 AIClient。
web/problemCrawler.h 和 web/problemCrawler.cpp: 这两个文件定义并实现了 ProblemCrawler 类，用于从 OpenJudge 网站抓取题目信息。
res/script/problem_detail.py: 这是一个 Python 脚本，被 ProblemCrawler 调用，用来解析从 OpenJudge 下载的 HTML 页面，提取出题目标题、描述、输入输出格式、样例等关键信息。
res/icons/robot.svg: 这是 AI 助手的图标文件，显示在右侧导航栏。
2. 为了集成 AI 助手功能而修改的文件：

widgets/iconNav.h 和 widgets/iconNav.cpp: 修改了右侧图标导航栏，添加了 AI 助手的切换按钮及其相关的信号和槽。
widgets/window.h 和 widgets/window.cpp: 修改了主窗口文件，在其中创建并集成了 AIAssistantWidget，并添加了必要的信号连接，比如当 OpenJudge 预览切换题目时通知 AI 助手更新题目信息，以及当编辑器标签页切换时更新 AI 助手的用户代码。
CMakeLists.txt: 修改了项目构建配置文件，将上面所有新创建的 .h 和 .cpp 文件添加进去，确保它们能被编译和链接到最终的程序中。
res/resource.qrc: 修改了 Qt 资源文件，将新的 robot.svg 图标文件包含进来。
```





日志：

```python
[AI助手调试] "初始化AI助手窗口"
ConfigManager::ConfigManager copied default config to config path: "/home/u/.config/never-judge/config.json"
Configs: new key "codeFont" added
Configs: new key "email" added
Configs: new key "highlightRules" added
Configs: new key "runCommand" added
Configs: new key "terminalTheme" added
[AI助手调试] "API密钥未设置，显示提示信息"
[AI助手调试] "成功获取代码编辑器指针"
QLayout: Attempting to add QLayout "" to IDEMainWindow "", which already has a layout
QLayout: Attempting to add QLayout "" to IDEMainWindow "", which already has a layout
QLayout: Attempting to add QLayout "" to IDEMainWindow "", which already has a layout
IDEMainWindow: Opening folder "/home/u/Never-Judge-0506/build"
Configs: new key "aiAssistant.apiKey" added
Parsed problem from: "http://bailian.openjudge.cn/practice/4152/"
ClangdLanguageServer: Server created
"G++(9.3(with c++17))" "G++"
"G++(9.3(with c++17))" "G++"
[AI助手调试] "显示题目按钮被点击"
[AI助手调试] "尝试主动获取题目信息"
[AI助手调试] "找到主窗口，尝试获取预览窗口"
[AI助手调试] "找到可见的预览窗口，尝试获取题目信息"
[AI助手调试] "尝试从预览窗口获取题目信息"
[AI助手调试] "找到题目标题: 4152:最佳加法表达式"
[AI助手调试] "从可见的文本编辑器获取到内容，长度: 314 字符"
[AI助手调试] "开始解析题目内容"
[AI助手调试] "找到输出描述部分"
[AI助手调试] "找到输入描述部分"
[AI助手调试] "找到输出描述部分"
[AI助手调试] "找到输出描述部分"
[AI助手调试] "找到样例输入部分"
[AI助手调试] "找到样例输出部分"
[AI助手调试] "解析失败，使用整个内容作为描述"
[AI助手调试] "题目信息设置完成"
[AI助手调试] 当前题目信息:
[AI助手调试]   标题: "4152:最佳加法表达式"
[AI助手调试]   描述长度: 313 字符
[AI助手调试]   输入描述长度: 77 字符
[AI助手调试]   输出描述长度: 0 字符
[AI助手调试]   样例输入长度: 25 字符
[AI助手调试]   样例输出长度: 79 字符
[AI助手调试] "成功从预览窗口获取题目信息"
[AI助手调试] "成功获取题目信息，准备显示"
[AI助手调试] "显示当前题目信息"
[AI助手调试] "题目信息已显示"
[AI助手调试] 题目解析按钮被点击
[AI助手调试] "尝试主动获取题目信息"
[AI助手调试] "找到主窗口，尝试获取预览窗口"
[AI助手调试] "找到可见的预览窗口，尝试获取题目信息"
[AI助手调试] "尝试从预览窗口获取题目信息"
[AI助手调试] "找到题目标题: 4152:最佳加法表达式"
[AI助手调试] "从可见的文本编辑器获取到内容，长度: 314 字符"
[AI助手调试] "开始解析题目内容"
[AI助手调试] "找到输出描述部分"
[AI助手调试] "找到输入描述部分"
[AI助手调试] "找到输出描述部分"
[AI助手调试] "找到输出描述部分"
[AI助手调试] "找到样例输入部分"
[AI助手调试] "找到样例输出部分"
[AI助手调试] "解析失败，使用整个内容作为描述"
[AI助手调试] "题目信息设置完成"
[AI助手调试] 当前题目信息:
[AI助手调试]   标题: "4152:最佳加法表达式"
[AI助手调试]   描述长度: 313 字符
[AI助手调试]   输入描述长度: 77 字符
[AI助手调试]   输出描述长度: 0 字符
[AI助手调试]   样例输入长度: 25 字符
[AI助手调试]   样例输出长度: 79 字符
[AI助手调试] "成功从预览窗口获取题目信息"
[AI助手调试] 获取到完整题目描述，长度: 518 字符
[AI助手调试] 生成题目解析提示词，长度: 616 字符
[AI助手调试] 发送题目解析请求
[AI助手调试] 发送 "题目解析" 请求，长度: 616 字符
[AI助手调试] "题目解析" 请求已发送，等待回调
[AI助手调试] "AI请求完成回调被触发，成功状态: 成功"
[AI助手调试] "AI请求成功，响应长度: 3626 字符"
[AI助手调试] "尝试从Markdown提取代码，Markdown长度: 3626 字符"
[AI助手调试] "未找到cpp代码块，尝试查找任意代码块"
[AI助手调试] "找到任意代码块，代码长度: 51 字符"
[AI助手调试] "从响应中提取到代码，长度: 51 字符"
[AI助手调试] "显示插入代码按钮"
[AI助手调试] "显示AI助手消息"
(base) u@xc:~/Never-Judge-0506$ 
```

